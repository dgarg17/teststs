
<div data-sly-use.utility="${'com.cdw.aem.util.components.UtilityWCMUseHelper'}"  data-sly-test="${properties.productEDC}">

    <div  data-sly-use.productpicker="${'com.cdw.aem.util.components.ProductPickerWCMUseHelper' @json=properties.products}"></div>
    <input type="hidden" class="productService" id="productService-${properties.productEDC[0]}" name="productService" value="${utility.serviceDomain}/${utility.productService}?f=${properties.productEDC}">
    <input type="hidden" class="productEDC" id="productEDC-${properties.productEDC[0]}" name="productEDC" value="${properties.productEDC}">
    <input type="hidden" class id="ctaStyle-${properties.productEDC[0]}" name="ctaStyle" value="${properties.ctaStyle}">
    <input type="hidden" id="products-${properties.productEDC[0]}" class="products" name="products" value='${productpicker.updateProductPickerJson @context="scriptComment"}'>
    <input type="hidden" id="imagePosition-${properties.productEDC[0]}" class="imagePosition" name="imagePosition" value="${properties.imagePosition}">
</div>
<div id="productContainer-${properties.productEDC[0]}" class="productContainer" ><div>

<!--
    <script>
    $(document).ready(function(){
    $(".productService").each(function( index ) {
 alert($( this ).attr("id")+index);
 var id=$(this).attr("id");
 console.log($("#"+id).val());
productdata(id);

});

    });

function productdata(productid){
url=$("#"+productid).val();
$.ajax({
type: "GET",
dataType: "json",
url: url,
success: function(response) {
var output=eval(response);
console.log(output);
if(output.length>1){

console.log("ajax responce "+output[1].productCode);

}else{
console.log("no responce");
}

},
error: function(hr, txtStatus, error) {
console.log(hr);
alert("error! " + txtStatus);
}
});
$.ajax({
type: "GET",
dataType: "json",
url: "https://webdev3vhb.corp.cdw.com/api/cms/products?f=2972386,3173855,3036378,3339330,3394320",
success: function(response) {
console.log(eval(response));
},
error: function(hr, txtStatus, error) {
console.log(hr);
alert("error! " + txtStatus);
}
});
}
 </script>-->
